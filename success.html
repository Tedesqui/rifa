<!DOCTYPE html>
<html lang="pt-BR">
<head>
    </head>
<body>
    <script>
        // Funções de countdown e winner number (sem alterações)
        document.addEventListener('DOMContentLoaded', async () => {
            const params = new URLSearchParams(window.location.search);
            const ticketId = params.get('ticketId');
            const numbersPlaceholder = document.getElementById('numbers-placeholder');
            const numbersElement = document.getElementById('numbers');

            // ... (código de countdown e winner number) ...

            if (!ticketId) {
                numbersPlaceholder.innerHTML = '<p style="color: red;">ID do bilhete não encontrado.</p>';
                return;
            }

            try {
                const response = await fetch(`/api/get-numbers?ticketId=${ticketId}`);
                const data = await response.json();

                if (response.ok) {
                    numbersElement.textContent = data.numbers.join(' - ');
                    numbersElement.style.display = 'block';
                    // LÓGICA DE LOCALSTORAGE REMOVIDA DAQUI
                } else {
                    numbersPlaceholder.innerHTML = `<p style="color: red;">${data.error || 'Não foi possível buscar seus números.'}</p>`;
                }
            } catch (error) {
                numbersPlaceholder.innerHTML = `<p style="color: red;">Erro de comunicação para buscar seus números.</p>`;
            } finally {
                if (numbersPlaceholder.querySelector('.loader')) {
                    numbersPlaceholder.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>
